(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[14],{

/***/ "./src/common-components/pick-files/crop.tsx":
/*!***************************************************!*\
  !*** ./src/common-components/pick-files/crop.tsx ***!
  \***************************************************/
/*! exports provided: CropComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CropComponent\", function() { return CropComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _common_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @common-components */ \"./src/common-components/index.ts\");\n/* harmony import */ var _core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @core */ \"./src/core/index.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @utils */ \"./src/utils/index.ts\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! mobx */ \"./node_modules/mobx/lib/mobx.module.js\");\n/* harmony import */ var mobx_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! mobx-react */ \"./node_modules/mobx-react/dist/mobxreact.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var react_avatar_editor__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-avatar-editor */ \"./node_modules/react-avatar-editor/dist/index.js\");\n/* harmony import */ var react_avatar_editor__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react_avatar_editor__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var office_ui_fabric_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! office-ui-fabric-react */ \"./node_modules/office-ui-fabric-react/lib/index.js\");\n\n\n\n\n\n\n\n\n\nconst Editor = react_avatar_editor__WEBPACK_IMPORTED_MODULE_7___default.a || react_avatar_editor__WEBPACK_IMPORTED_MODULE_7__;\nconst MAX_ZOOM = 5;\nconst MIN_ZOOM = 0.3;\nlet CropComponent = class CropComponent extends react__WEBPACK_IMPORTED_MODULE_6__[\"Component\"] {\n    constructor() {\n        super(...arguments);\n        this.unique = Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"generateID\"])(20).replace(/[^a-z]/g, \"\");\n        this.overlay = false;\n        this.zoom = 1;\n        this.baseRotation = 1;\n        this.addedRotation = 1;\n        this.showGrid = true;\n    }\n    render() {\n        return (react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](\"div\", { className: \"crop-modal\" },\n            react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](office_ui_fabric_react__WEBPACK_IMPORTED_MODULE_8__[\"Dialog\"], { modalProps: { className: \"crop-dialog\" }, hidden: false, onDismiss: () => this.props.onDismiss() },\n                react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](\"div\", { className: \"editor\" },\n                    this.showGrid ? react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](_common_components__WEBPACK_IMPORTED_MODULE_1__[\"GridTableComponent\"], null) : \"\",\n                    this.overlay ? (react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](\"img\", { src: this.props.prevSrc, className: \"prev-overlay\" })) : (\"\"),\n                    react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](Editor, { className: this.unique, image: this.props.src, width: 280, height: 530, color: [0, 0, 0, 0.6], scale: this.zoom, rotate: this.baseRotation + this.addedRotation, border: 0 })),\n                react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](\"div\", { className: \"crop-controls\" },\n                    react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](_common_components__WEBPACK_IMPORTED_MODULE_1__[\"Row\"], { gutter: 0 },\n                        react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](_common_components__WEBPACK_IMPORTED_MODULE_1__[\"Col\"], { span: 12 },\n                            react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](_common_components__WEBPACK_IMPORTED_MODULE_1__[\"Row\"], { gutter: 0 },\n                                react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](_common_components__WEBPACK_IMPORTED_MODULE_1__[\"Col\"], { span: 16 },\n                                    react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](office_ui_fabric_react__WEBPACK_IMPORTED_MODULE_8__[\"Slider\"], { min: MIN_ZOOM * 100, max: MAX_ZOOM * 100, value: this.zoom * 100, onChange: (v) => {\n                                            this.zoom = v / 100;\n                                        }, label: Object(_core__WEBPACK_IMPORTED_MODULE_2__[\"text\"])(`zoom`).c, showValue: false })),\n                                react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](_common_components__WEBPACK_IMPORTED_MODULE_1__[\"Col\"], { span: 4 },\n                                    react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](office_ui_fabric_react__WEBPACK_IMPORTED_MODULE_8__[\"TooltipHost\"], { content: Object(_core__WEBPACK_IMPORTED_MODULE_2__[\"text\"])(\"flip horizontal\").c },\n                                        react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](office_ui_fabric_react__WEBPACK_IMPORTED_MODULE_8__[\"IconButton\"], { onClick: () => {\n                                                const canvas = document.querySelectorAll(\".\" + this.unique)[0];\n                                                const context = canvas.getContext(\"2d\");\n                                                context.translate(context.canvas.width, 0);\n                                                context.scale(-1, 1);\n                                                this.forceUpdate();\n                                            }, iconProps: {\n                                                iconName: \"More\",\n                                            } }))),\n                                react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](_common_components__WEBPACK_IMPORTED_MODULE_1__[\"Col\"], { span: 4 },\n                                    react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](office_ui_fabric_react__WEBPACK_IMPORTED_MODULE_8__[\"TooltipHost\"], { content: Object(_core__WEBPACK_IMPORTED_MODULE_2__[\"text\"])(\"flip vertical\").c },\n                                        react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](office_ui_fabric_react__WEBPACK_IMPORTED_MODULE_8__[\"IconButton\"], { onClick: () => {\n                                                const canvas = document.querySelectorAll(\".\" + this.unique)[0];\n                                                const context = canvas.getContext(\"2d\");\n                                                context.translate(0, context.canvas.height);\n                                                context.scale(1, -1);\n                                                this.forceUpdate();\n                                            }, iconProps: {\n                                                iconName: \"MoreVertical\",\n                                            } }))))),\n                        react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](_common_components__WEBPACK_IMPORTED_MODULE_1__[\"Col\"], { span: 12 },\n                            react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](_common_components__WEBPACK_IMPORTED_MODULE_1__[\"Row\"], { gutter: 0 },\n                                react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](_common_components__WEBPACK_IMPORTED_MODULE_1__[\"Col\"], { span: 16 },\n                                    react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](office_ui_fabric_react__WEBPACK_IMPORTED_MODULE_8__[\"Slider\"], { min: -45, max: 45, value: this.addedRotation, onChange: (v) => {\n                                            if (v !== -1) {\n                                                this.addedRotation = v;\n                                            }\n                                        }, label: Object(_core__WEBPACK_IMPORTED_MODULE_2__[\"text\"])(`rotation`).c, showValue: false })),\n                                react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](_common_components__WEBPACK_IMPORTED_MODULE_1__[\"Col\"], { span: 4 },\n                                    react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](office_ui_fabric_react__WEBPACK_IMPORTED_MODULE_8__[\"TooltipHost\"], { content: Object(_core__WEBPACK_IMPORTED_MODULE_2__[\"text\"])(\"rotate clockwise\").c },\n                                        react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](office_ui_fabric_react__WEBPACK_IMPORTED_MODULE_8__[\"IconButton\"], { onClick: () => {\n                                                this.baseRotation =\n                                                    this.baseRotation - 90;\n                                            }, iconProps: {\n                                                iconName: \"Rotate90Clockwise\",\n                                            } }))),\n                                react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](_common_components__WEBPACK_IMPORTED_MODULE_1__[\"Col\"], { span: 4 },\n                                    react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](office_ui_fabric_react__WEBPACK_IMPORTED_MODULE_8__[\"TooltipHost\"], { content: \"Rotate anti-clockwise\" },\n                                        react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](office_ui_fabric_react__WEBPACK_IMPORTED_MODULE_8__[\"IconButton\"], { onClick: () => {\n                                                this.baseRotation =\n                                                    this.baseRotation + 90;\n                                            }, iconProps: {\n                                                iconName: \"Rotate90CounterClockwise\",\n                                            } }))))))),\n                react__WEBPACK_IMPORTED_MODULE_6__[\"createElement\"](office_ui_fabric_react__WEBPACK_IMPORTED_MODULE_8__[\"CommandBar\"], { items: [\n                        {\n                            key: \"grid\",\n                            text: Object(_core__WEBPACK_IMPORTED_MODULE_2__[\"text\"])(\"grid\").c,\n                            iconProps: { iconName: \"GridViewSmall\" },\n                            className: this.showGrid\n                                ? \"active-button\"\n                                : undefined,\n                            active: true,\n                            onClick: () => {\n                                this.showGrid = !this.showGrid;\n                            },\n                        },\n                        {\n                            key: \"overlay\",\n                            text: Object(_core__WEBPACK_IMPORTED_MODULE_2__[\"text\"])(\"overlay\").c,\n                            iconProps: { iconName: \"MapLayers\" },\n                            className: this.overlay\n                                ? \"active-button\"\n                                : undefined,\n                            onClick: () => {\n                                this.overlay = !this.overlay;\n                            },\n                            hidden: !this.props.prevSrc,\n                        },\n                    ], farItems: [\n                        {\n                            key: \"save\",\n                            text: Object(_core__WEBPACK_IMPORTED_MODULE_2__[\"text\"])(\"save\").c,\n                            iconProps: { iconName: \"save\" },\n                            classNames: \"abc\",\n                            onClick: () => {\n                                const canvas = document.querySelectorAll(\".\" + this.unique)[0];\n                                this.props.onSave(canvas.toDataURL());\n                            },\n                        },\n                        {\n                            key: \"cancel\",\n                            text: Object(_core__WEBPACK_IMPORTED_MODULE_2__[\"text\"])(\"cancel\").c,\n                            iconProps: { iconName: \"cancel\" },\n                            classNames: \"abc\",\n                            onClick: () => {\n                                this.props.onDismiss();\n                            },\n                        },\n                    ] }))));\n    }\n};\nObject(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"])([\n    mobx__WEBPACK_IMPORTED_MODULE_4__[\"observable\"]\n], CropComponent.prototype, \"unique\", void 0);\nObject(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"])([\n    mobx__WEBPACK_IMPORTED_MODULE_4__[\"observable\"]\n], CropComponent.prototype, \"overlay\", void 0);\nObject(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"])([\n    mobx__WEBPACK_IMPORTED_MODULE_4__[\"observable\"]\n], CropComponent.prototype, \"zoom\", void 0);\nObject(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"])([\n    mobx__WEBPACK_IMPORTED_MODULE_4__[\"observable\"]\n], CropComponent.prototype, \"baseRotation\", void 0);\nObject(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"])([\n    mobx__WEBPACK_IMPORTED_MODULE_4__[\"observable\"]\n], CropComponent.prototype, \"addedRotation\", void 0);\nObject(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"])([\n    mobx__WEBPACK_IMPORTED_MODULE_4__[\"observable\"]\n], CropComponent.prototype, \"showGrid\", void 0);\nCropComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"])([\n    mobx_react__WEBPACK_IMPORTED_MODULE_5__[\"observer\"]\n], CropComponent);\n\n\n\n//# sourceURL=webpack:///./src/common-components/pick-files/crop.tsx?");

/***/ })

}]);